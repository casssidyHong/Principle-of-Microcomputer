ORG 0000H; 
AJMP MAIN;
ORG 0050H;

MAIN :
	MOV R0,#00H; 
	MOV R1,#09H
	MOV R2,#00H
	MOV R3,#00H
	MOV R4,#00H
	MOV DPTR,#NUM;
	MOV R7,#01110111B; 

LOOP:
	ACALL CHOOSE;
	MOVC A,@A+DPTR;
	MOV P1,R7;
	MOV P0,A;
	
	XCH A,R7;
	RR A;
	XCH A,R7;

	INC R0;

	CJNE R0,#0FFH,RESET0;
	MOV R0,#00H;
	DEC R1;
	
	CJNE R1,#0FFH,RESET0;
	MOV R1,#09H;
	DEC R2;
	
	CJNE R2,#0FFH,RESET0; 
	MOV R2,#09H;
	DEC R3;
	
	CJNE R3,#0FFH,RESET0; 
	MOV R3,#09H;
	DEC R4;
	
	CJNE R4,#0FFH,RESET0;
	MOV R4,#09H;
RESET0:
	ACALL DELAY;
	JMP LOOP;

CHOOSE: 
	CJNE R7,#10111011B,NUM4;
	MOV A ,R4;
NUM4:
	CJNE R7,#11011101B,NUM3;
	MOV A ,R3; 
NUM3:
	CJNE R7,#11101110B,NUM2;
	MOV A ,R2; 
NUM2:
	CJNE R7,#01110111B,NUM1; 
	MOV A,R1;
NUM1:
	RET	


DELAY:
	MOV  R5, #07FH;

DELAY1: 
	MOV	 R6, #05CH;

DELAY2: 
	DJNZ R6, DELAY2;
	DJNZ R5, DELAY1;
	RET;


NUM:
 DB 1000000B; //0
 DB 11111001B; //1
 DB 10100100B; //2
 DB 10110000B; //3
 DB 10011001B; //4
 DB 10010010B; //5
 DB 10000010B; //6
 DB 11111000B; //7
 DB 10000000B; //8
 DB 10011000B; //9
 DB  00;


END;